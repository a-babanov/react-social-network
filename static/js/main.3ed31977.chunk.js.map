{"version":3,"sources":["redux/dialogs-reducer.js","redux/users-reducer.js","api/api.js","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","hoc/withSuspense.js","App.js","reportWebVitals.js","redux/store.js","index.js","components/Common/FormsControls/FormsControls.module.css","assets/images/preLoader.gif","components/Common/Preloader/Preloader.jsx","components/Common/FormsControls/FormsControls.js","components/Utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","addMessage","newMessage","type","dialogsReducer","state","action","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_PAGE_COUNT","SET_CURRENT_PAGE","SET_TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalPageCount","pageSize","page","isFetching","followingInProgress","fake","setUsers","setTotalPageCount","setPage","setToggleIsFetching","toggleFollowingProgress","userId","requestUsers","dispatch","usersAPI","getUsers","then","data","items","totalCount","follow","response","resultCode","followSuccess","unfollow","unfollowSuccess","usersReducer","map","u","followed","filter","instance","axios","withCredentials","baseURL","headers","currentPage","get","post","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","module","exports","Navbar","props","className","s","navbar","item","to","activeClassName","active","Header","header","src","alt","loginBlock","isAuth","onClick","SET_USER_DATA","setAuthUserData","payLoad","getAuthUserData","authReducer","HeaderContainer","this","React","Component","connect","auth","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","style","formSummaryError","length","stopSubmit","_error","INITIALIZE_SUCCESS","initialized","appReducer","withSuspense","Suspense","fallback","Preloader","DialogsContainer","lazy","UsersContainer","ProfileContainer","App","initializeApp","path","render","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","setInterval","ReactDOM","StrictMode","document","getElementById","preLoader","TextArea","input","meta","hasError","touched","invalid","formControl","values","maxFieldLength","maxLength","value","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","posts","likesCount","profile","userStatus","addPost","newPostText","setUserStatus","getUserProfile","getUserStatus","updateUserStatus","file","a","photos","newPost"],"mappings":"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","file":"static/js/main.3ed31977.chunk.js","sourcesContent":["const SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: \"1\", name: \"Altynbek\" },\r\n        { id: \"2\", name: \"Nurlis\" },\r\n        { id: \"3\", name: \"Elmus\" },\r\n        { id: \"4\", name: \"Ravshan\" },\r\n        { id: \"5\", name: \"Kuba\" }\r\n    ],\r\n    messages: [\r\n        { id: \"1\", message: \"Hi!\" },\r\n        { id: \"2\", message: \"Nice!\" },\r\n        { id: \"3\", message: \"And you?\" },\r\n        { id: \"4\", message: \"Nice too\" }\r\n    ]\r\n}\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {\r\n                    id: 5,\r\n                    message: action.newMessage\r\n                }]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessage = (newMessage) => ({ type: SEND_MESSAGE, newMessage })\r\n\r\nexport default dialogsReducer;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_TOTAL_PAGE_COUNT = \"SET_TOTAL_PAGE_COUNT\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOGGLE_IS_FETCHING = \"SET_TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\nlet initialState = {\r\n    users: [\r\n\r\n    ],\r\n    totalPageCount: 0,\r\n    pageSize: 5,\r\n    page: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n    fake: 10\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"FAKE\": {\r\n            return {\r\n                ...state,\r\n                fake: state.fake + 1\r\n            };\r\n        }\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId)\r\n                        return { ...u, followed: true }\r\n                    return { ...u }\r\n                })\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId)\r\n                        return { ...u, followed: false }\r\n                    return { ...u }\r\n                })\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_TOTAL_PAGE_COUNT: {\r\n            return { ...state, totalPageCount: action.totalPageCount }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, page: action.page }\r\n        }\r\n        case SET_TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\n\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\n\r\nexport const setTotalPageCount = (totalPageCount) => ({ type: SET_TOTAL_PAGE_COUNT, totalPageCount })\r\n\r\nexport const setPage = (page) => ({ type: SET_CURRENT_PAGE, page })\r\n\r\nexport const setToggleIsFetching = (isFetching) => ({ type: SET_TOGGLE_IS_FETCHING, isFetching })\r\n\r\nexport const toggleFollowingProgress = (userId, isFetching) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, userId, isFetching })\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleIsFetching(true));\r\n        usersAPI.getUsers(page, pageSize)\r\n            .then(data => {\r\n                dispatch(setUsers(data.items));\r\n                dispatch(setTotalPageCount(data.totalCount));\r\n                dispatch(setToggleIsFetching(false));\r\n            });\r\n    }\r\n}\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingProgress(userId, true));\r\n        usersAPI.follow(userId)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0)\r\n                    dispatch(followSuccess(userId))\r\n                dispatch(toggleFollowingProgress(userId, false))\r\n            });\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingProgress(userId, true));\r\n        usersAPI.unfollow(userId)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0)\r\n                    dispatch(unfollowSuccess(userId))\r\n                dispatch(toggleFollowingProgress(userId, false));\r\n            })\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"9b89d1f8-78d1-4807-940e-5e5d87928903\"\r\n    }\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status })\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('name', photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3u7Pq\",\"item\":\"Navbar_item__C8jOd\",\"active\":\"Navbar_active__30xjm\"};","import { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <nav className={s.navbar}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>News</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Music</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Settings</a>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Navbar","import { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"data:image/png;base64,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\" alt=\"\" />\r\n            <div className={s.loginBlock}>\r\n                {\r\n                    props.isAuth ? <div>{props.login} - <button onClick={props.logout}>log out</button></div> :\r\n                        <NavLink to='/login'>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payLoad\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth = false) => ({ type: SET_USER_DATA, payLoad: { userId, email, login, isAuth } })\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n    return authAPI.me()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let { id, email, login } = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true))\r\n            }\r\n        });\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n    authAPI.login(email, password, rememberMe)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            }\r\n            else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\";\r\n                dispatch(stopSubmit(\"login\", { _error: message }));\r\n            }\r\n        });\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n    authAPI.logout()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n        });\r\n}\r\n\r\nexport default authReducer;","import * as axios from 'axios';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { getAuthUserData, logout } from '../../redux/auth-reducer';\r\nclass HeaderContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getAuthUserData();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { getAuthUserData, logout })(HeaderContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../Common/FormsControls/FormsControls';\r\nimport { required } from '../Utils/validators/validators';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router';\r\nimport style from './../Common/FormsControls/FormsControls.module.css'\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Login\"} name={\"email\"}\r\n                    component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"Password\"} name={\"password\"} type={\"password\"}\r\n                    component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field component={\"input\"} type={\"checkbox\"} name={\"rememberMe\"} /> remember me\r\n            </div>\r\n            {\r\n                props.error &&\r\n                <span className={style.formSummaryError}>\r\n                    {props.error}\r\n                </span>\r\n            }\r\n            <div>\r\n                <button>submit</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    let onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to='/profile' />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZE_SUCCESS = \"INITIALIZE_SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZE_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializeSuccess = () => ({ type: INITIALIZE_SUCCESS })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializeSuccess())\r\n    });\r\n}\r\n\r\nexport default appReducer;","import React from \"react\"\r\nimport Preloader from \"../components/Common/Preloader/Preloader\"\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Loader... <Preloader /> </div>}> <Component {...props} /> </React.Suspense>\r\n    }\r\n}","import './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport { Route } from 'react-router-dom';\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\n//import UsersContainer from './components/Users/UsersContainer';\n//import ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport React from 'react';\nimport { initializeApp } from './redux/app-reducer';\nimport { connect } from 'react-redux';\nimport Preloader from './components/Common/Preloader/Preloader';\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Route path='/profile/:userId?'\n            render={withSuspense(ProfileContainer)} />\n          <Route path='/dialogs'\n            render={withSuspense(DialogsContainer)} />\n          <Route path='/users'\n            render={withSuspense(UsersContainer)} />\n          <Route path='/login'\n            render={() => <Login />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\n\nexport default connect(mapStateToProps, { initializeApp })(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from \"./redux/store\";\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from \"react-redux\";\n\nsetInterval(() => {\n  store.dispatch({ type: \"FAKE\" })\n}, 1000);\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3x4u2\",\"error\":\"FormsControls_error__3_YyQ\",\"formSummaryError\":\"FormsControls_formSummaryError__3se1u\"};","export default __webpack_public_path__ + \"static/media/preLoader.a1a99674.gif\";","\r\nimport preLoader from '../../../assets/images/preLoader.gif'\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preLoader} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import s from './FormsControls.module.css'\r\n\r\nexport const TextArea = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.invalid;\r\n    return <div className={s.formControl + \" \" + (hasError && s.error)}>\r\n        <div>\r\n            <textarea {...input}  {...props} />\r\n        </div>\r\n        {hasError && <span> {meta.error}</span>}\r\n    </div>\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.invalid;\r\n    return <div className={s.formControl + \" \" + (hasError && s.error)}>\r\n        <div>\r\n            <input {...input} {...props} />\r\n        </div>\r\n        {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n}","export const required = (values) => {\r\n    if (values)\r\n        return undefined;\r\n    return \"Field is Requied\"\r\n}\r\n\r\nexport const maxFieldLength = (maxLength) => (value) => {\r\n    if (value.length > maxLength)\r\n        return `Max length is ${maxLength} symbols`\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__TSvP7\",\"loginBlock\":\"Header_loginBlock__3Ey2U\"};","import { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: \"1\", message: \"First Post\", likesCount: 23 },\r\n        { id: \"2\", message: \"Second Post\", likesCount: 24 }\r\n    ],\r\n    profile: null,\r\n    userStatus: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: { ...action.profile }\r\n            };\r\n        }\r\n\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                userStatus: action.userStatus\r\n            };\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos }\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (userStatus) => ({ type: SET_USER_STATUS, userStatus })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    usersAPI.getProfile(userId)\r\n        .then(response => {\r\n            dispatch(setUserProfile(response.data))\r\n        })\r\n}\r\n\r\nexport const getUserStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setUserStatus(response.data))\r\n        })\r\n}\r\n\r\nexport const updateUserStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0)\r\n                dispatch(setUserStatus(status))\r\n        })\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}